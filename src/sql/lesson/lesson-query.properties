selectPopularList=SELECT RNUM, LESSON_PK, LESSON_NAME, STATUS, ARTIST_NICK, MEMBER_NAME, IMAGE_PK, IMAGE_ROUTE, IMAGE_NAME, IMAGE_TYPE, img2_pk, img2_route, img2_name, img2_type, REGION FROM (SELECT ROWNUM RNUM, LESSON_PK, LESSON_NAME, STATUS, ARTIST_NICK, MEMBER_NAME, IMAGE_PK, IMAGE_ROUTE, IMAGE_NAME, IMAGE_TYPE, img2_pk, img2_route, img2_name, img2_type, REGION FROM (SELECT L.LESSON_PK, L.LESSON_NAME, L.STATUS, M.ARTIST_NICK, M.MEMBER_NAME, I.IMAGE_PK, I.IMAGE_ROUTE, I.IMAGE_NAME, I.IMAGE_TYPE, IM.IMAGE_PK AS img2_pk, IM.IMAGE_ROUTE AS img2_route, IM.IMAGE_NAME AS img2_name, IM.IMAGE_TYPE AS img2_type, LISTAGG(REGION, '/') WITHIN GROUP (ORDER BY REGION DESC) AS REGION FROM LESSON L JOIN MEMBER M ON (L.ARTIST_PK = M.MEMBER_PK) JOIN IMAGE I ON (L.LESSON_PK = I.IMAGE_FK_PK) JOIN IMAGE IM ON (M.MEMBER_PK = IM.IMAGE_FK_PK) JOIN (SELECT LESSON_PK, LISTAGG(REGION, '/') WITHIN GROUP (ORDER BY REGION DESC) AS REGION FROM LESSON_SCHEDULE GROUP BY LESSON_PK) LS ON (L.LESSON_PK = LS.LESSON_PK) WHERE I.IMAGE_TYPE = 'lesson' AND I.IMAGE_MAIN = 0 AND IM.IMAGE_TYPE = 'profile' AND L.LESSON_PK NOT IN (SELECT LESSON_PK FROM LESSON WHERE LESSON_PK = 144 OR LESSON_PK = 145 OR LESSON_PK = 146 OR LESSON_PK = 51 OR LESSON_PK = 54 OR LESSON_PK = 138) GROUP BY L.LESSON_PK, L.LESSON_NAME, L.STATUS, M.ARTIST_NICK, M.MEMBER_NAME, I.IMAGE_PK, I.IMAGE_ROUTE, I.IMAGE_NAME, I.IMAGE_TYPE, IM.IMAGE_PK, IM.IMAGE_ROUTE, IM.IMAGE_NAME, IM.IMAGE_TYPE ORDER BY 1 DESC)) WHERE RNUM BETWEEN 12 AND 20
selectInterestList=SELECT L.LESSON_PK, L.LESSON_NAME, L.STATUS, C.CATEGORY_PK, M.ARTIST_NICK, M.MEMBER_NAME, I.IMAGE_PK, I.IMAGE_ROUTE, I.IMAGE_NAME, I.IMAGE_TYPE, IM.IMAGE_PK AS img2_pk, IM.IMAGE_ROUTE AS img2_route, IM.IMAGE_NAME AS img2_name, IM.IMAGE_TYPE AS img2_type, LISTAGG(REGION, '/') WITHIN GROUP (ORDER BY REGION DESC) AS REGION FROM LESSON L JOIN MEMBER M ON (L.ARTIST_PK = M.MEMBER_PK) JOIN IMAGE I ON (L.LESSON_PK = I.IMAGE_FK_PK) JOIN IMAGE IM ON (M.MEMBER_PK = IM.IMAGE_FK_PK) JOIN CATEGORY C ON (L.CATEGORY_PK = C.CATEGORY_PK) JOIN (SELECT LESSON_PK, LISTAGG(REGION, '/') WITHIN GROUP (ORDER BY REGION DESC) AS REGION FROM LESSON_SCHEDULE GROUP BY LESSON_PK) LS ON (L.LESSON_PK = LS.LESSON_PK) WHERE I.IMAGE_TYPE = 'lesson' AND I.IMAGE_MAIN = 0 AND IM.IMAGE_TYPE = 'profile' AND C.CATEGORY_PK IN (SELECT MC.CATEGORY_PK FROM MEMBER_CATEGORY MC WHERE MC.MEMBER_PK = ?) AND ROWNUM <= 9 GROUP BY L.LESSON_PK, L.LESSON_NAME, L.STATUS, C.CATEGORY_PK, M.ARTIST_NICK, M.MEMBER_NAME, I.IMAGE_PK, I.IMAGE_ROUTE, I.IMAGE_NAME, I.IMAGE_TYPE, IM.IMAGE_PK, IM.IMAGE_ROUTE, IM.IMAGE_NAME, IM.IMAGE_TYPE ORDER BY 1 DESC
selectNewList=SELECT RNUM, LESSON_PK, LESSON_NAME, STATUS, CATEGORY_PK, ARTIST_NICK, MEMBER_NAME, IMAGE_PK, IMAGE_ROUTE, IMAGE_NAME, IMAGE_TYPE, img2_pk, img2_route, img2_name, img2_type, REGION FROM (SELECT ROWNUM RNUM, LESSON_PK, LESSON_NAME, STATUS, CATEGORY_PK, ARTIST_NICK, MEMBER_NAME, IMAGE_PK, IMAGE_ROUTE, IMAGE_NAME, IMAGE_TYPE, img2_pk, img2_route, img2_name, img2_type, REGION FROM (SELECT L.LESSON_PK, L.LESSON_NAME, L.STATUS, L.CATEGORY_PK, M.ARTIST_NICK, M.MEMBER_NAME, I.IMAGE_PK, I.IMAGE_ROUTE, I.IMAGE_NAME, I.IMAGE_TYPE, IM.IMAGE_PK AS img2_pk, IM.IMAGE_ROUTE AS img2_route, IM.IMAGE_NAME AS img2_name, IM.IMAGE_TYPE AS img2_type, LISTAGG(REGION, '/') WITHIN GROUP (ORDER BY REGION DESC) AS REGION FROM LESSON L JOIN MEMBER M ON (L.ARTIST_PK = M.MEMBER_PK) JOIN IMAGE I ON (L.LESSON_PK = I.IMAGE_FK_PK) JOIN IMAGE IM ON (M.MEMBER_PK = IM.IMAGE_FK_PK) JOIN (SELECT LESSON_PK, LISTAGG(REGION, '/') WITHIN GROUP (ORDER BY REGION DESC) AS REGION FROM LESSON_SCHEDULE GROUP BY LESSON_PK) LS ON (L.LESSON_PK = LS.LESSON_PK) WHERE I.IMAGE_TYPE = 'lesson' AND I.IMAGE_MAIN = 0 AND IM.IMAGE_TYPE = 'profile' AND L.ARTIST_PK IN (SELECT ARTIST_PK FROM (SELECT COUNT(*) , ARTIST_PK FROM LESSON GROUP BY ARTIST_PK HAVING COUNT(*) = 1)) AND L.LESSON_PK NOT IN (SELECT LESSON_PK FROM LESSON WHERE LESSON_PK = 144 OR LESSON_PK = 145 OR LESSON_PK = 146 OR LESSON_PK = 51 OR LESSON_PK = 54 OR LESSON_PK = 138) GROUP BY L.LESSON_PK, L.LESSON_NAME, L.STATUS, L.CATEGORY_PK, M.ARTIST_NICK, M.MEMBER_NAME, I.IMAGE_PK, I.IMAGE_ROUTE, I.IMAGE_NAME, I.IMAGE_TYPE, IM.IMAGE_PK, IM.IMAGE_ROUTE, IM.IMAGE_NAME, IM.IMAGE_TYPE ORDER BY 1 DESC)) WHERE RNUM BETWEEN 1 AND 9
listCount=SELECT COUNT(*) FROM LESSON L JOIN CATEGORY C ON (L.CATEGORY_PK = C.CATEGORY_PK) JOIN IMAGE I ON (L.LESSON_PK = I.IMAGE_FK_PK) JOIN IMAGE IM ON (L.ARTIST_PK = IM.IMAGE_FK_PK) WHERE STATUS = 0 AND I.IMAGE_TYPE = 'lesson' AND I.IMAGE_MAIN = 0 AND IM.IMAGE_TYPE = 'profile' AND C.PARENT_PK = ? AND L.LESSON_PK NOT IN (SELECT LESSON_PK FROM LESSON WHERE LESSON_PK = 144 OR LESSON_PK = 145 OR LESSON_PK = 146 OR LESSON_PK = 51 OR LESSON_PK = 54 OR LESSON_PK = 138)
selectMusicListWithPaging=SELECT RNUM, LESSON_PK, LESSON_NAME, STATUS, CATEGORY_PK, ARTIST_NICK, MEMBER_NAME, IMAGE_PK, IMAGE_ROUTE, IMAGE_NAME, IMAGE_TYPE, img2_pk, img2_route, img2_name, img2_type,REGION FROM (SELECT ROWNUM RNUM, LESSON_PK, LESSON_NAME, STATUS, CATEGORY_PK, ARTIST_NICK, MEMBER_NAME, IMAGE_PK, IMAGE_ROUTE, IMAGE_NAME, IMAGE_TYPE, img2_pk, img2_route, img2_name, img2_type, REGION FROM (SELECT L.LESSON_PK, L.LESSON_NAME, L.STATUS, C.CATEGORY_PK, M.ARTIST_NICK, M.MEMBER_NAME, I.IMAGE_PK, I.IMAGE_ROUTE, I.IMAGE_NAME, I.IMAGE_TYPE, IM.IMAGE_PK AS img2_pk, IM.IMAGE_ROUTE AS img2_route, IM.IMAGE_NAME AS img2_name, IM.IMAGE_TYPE AS img2_type, LISTAGG(REGION, '/') WITHIN GROUP (ORDER BY REGION DESC) AS REGION FROM LESSON L JOIN MEMBER M ON (L.ARTIST_PK = M.MEMBER_PK) JOIN IMAGE I ON (L.LESSON_PK = I.IMAGE_FK_PK) JOIN IMAGE IM ON (M.MEMBER_PK = IM.IMAGE_FK_PK) JOIN CATEGORY C ON (L.CATEGORY_PK = C.CATEGORY_PK) JOIN (SELECT LESSON_PK, LISTAGG(REGION, '/') WITHIN GROUP (ORDER BY REGION DESC) AS REGION FROM LESSON_SCHEDULE GROUP BY LESSON_PK) LS ON (L.LESSON_PK = LS.LESSON_PK) WHERE C.PARENT_PK = 1 AND I.IMAGE_TYPE = 'lesson' AND I.IMAGE_MAIN = 0 AND IM.IMAGE_TYPE = 'profile' AND L.LESSON_PK NOT IN (SELECT LESSON_PK FROM LESSON WHERE LESSON_PK = 144 OR LESSON_PK = 145 OR LESSON_PK = 146 OR LESSON_PK = 51 OR LESSON_PK = 54) GROUP BY L.LESSON_PK, L.LESSON_NAME, L.STATUS, C.CATEGORY_PK, M.ARTIST_NICK, M.MEMBER_NAME, I.IMAGE_PK, I.IMAGE_ROUTE, I.IMAGE_NAME, I.IMAGE_TYPE, IM.IMAGE_PK, IM.IMAGE_ROUTE, IM.IMAGE_NAME, IM.IMAGE_TYPE ORDER BY 1 DESC)) WHERE RNUM BETWEEN ? AND ?
selectDanceListWithPaging=SELECT RNUM, LESSON_PK, LESSON_NAME, STATUS, CATEGORY_PK, ARTIST_NICK, MEMBER_NAME, IMAGE_PK, IMAGE_ROUTE, IMAGE_NAME, IMAGE_TYPE, img2_pk, img2_route, img2_name, img2_type, REGION FROM (SELECT ROWNUM RNUM, LESSON_PK, LESSON_NAME, STATUS, CATEGORY_PK, ARTIST_NICK, MEMBER_NAME, IMAGE_PK, IMAGE_ROUTE, IMAGE_NAME, IMAGE_TYPE, img2_pk, img2_route, img2_name, img2_type, REGION FROM (SELECT L.LESSON_PK, L.LESSON_NAME, L.STATUS, C.CATEGORY_PK, M.ARTIST_NICK, M.MEMBER_NAME, I.IMAGE_PK, I.IMAGE_ROUTE, I.IMAGE_NAME, I.IMAGE_TYPE, IM.IMAGE_PK AS img2_pk, IM.IMAGE_ROUTE AS img2_route, IM.IMAGE_NAME AS img2_name, IM.IMAGE_TYPE AS img2_type, LISTAGG(REGION, '/') WITHIN GROUP (ORDER BY REGION DESC) AS REGION FROM LESSON L JOIN MEMBER M ON (L.ARTIST_PK = M.MEMBER_PK) JOIN IMAGE I ON (L.LESSON_PK = I.IMAGE_FK_PK) JOIN IMAGE IM ON (M.MEMBER_PK = IM.IMAGE_FK_PK) JOIN CATEGORY C ON (L.CATEGORY_PK = C.CATEGORY_PK) JOIN (SELECT LESSON_PK, LISTAGG(REGION, '/') WITHIN GROUP (ORDER BY REGION DESC) AS REGION FROM LESSON_SCHEDULE GROUP BY LESSON_PK) LS ON (L.LESSON_PK = LS.LESSON_PK) WHERE C.PARENT_PK = 9 AND I.IMAGE_TYPE = 'lesson' AND I.IMAGE_MAIN = 0 AND IM.IMAGE_TYPE = 'profile' GROUP BY L.LESSON_PK, L.LESSON_NAME, L.STATUS, C.CATEGORY_PK, M.ARTIST_NICK, M.MEMBER_NAME, I.IMAGE_PK, I.IMAGE_ROUTE, I.IMAGE_NAME, I.IMAGE_TYPE, IM.IMAGE_PK, IM.IMAGE_ROUTE, IM.IMAGE_NAME, IM.IMAGE_TYPE ORDER BY 1 DESC)) WHERE RNUM BETWEEN ? AND ?
selectVideoListWithPaging=SELECT RNUM, LESSON_PK, LESSON_NAME, STATUS, CATEGORY_PK, ARTIST_NICK, MEMBER_NAME, IMAGE_PK, IMAGE_ROUTE, IMAGE_NAME, IMAGE_TYPE, img2_pk, img2_route, img2_name, img2_type, REGION FROM (SELECT ROWNUM RNUM, LESSON_PK, LESSON_NAME, STATUS, CATEGORY_PK, ARTIST_NICK, MEMBER_NAME, IMAGE_PK, IMAGE_ROUTE, IMAGE_NAME, IMAGE_TYPE, img2_pk, img2_route, img2_name, img2_type, REGION FROM (SELECT L.LESSON_PK, L.LESSON_NAME, L.STATUS, C.CATEGORY_PK, M.ARTIST_NICK, M.MEMBER_NAME, I.IMAGE_PK, I.IMAGE_ROUTE, I.IMAGE_NAME, I.IMAGE_TYPE, IM.IMAGE_PK AS img2_pk, IM.IMAGE_ROUTE AS img2_route, IM.IMAGE_NAME AS img2_name, IM.IMAGE_TYPE AS img2_type, LISTAGG(REGION, '/') WITHIN GROUP (ORDER BY REGION DESC) AS REGION FROM LESSON L JOIN MEMBER M ON (L.ARTIST_PK = M.MEMBER_PK) JOIN IMAGE I ON (L.LESSON_PK = I.IMAGE_FK_PK) JOIN IMAGE IM ON (M.MEMBER_PK = IM.IMAGE_FK_PK) JOIN CATEGORY C ON (L.CATEGORY_PK = C.CATEGORY_PK) JOIN (SELECT LESSON_PK, LISTAGG(REGION, '/') WITHIN GROUP (ORDER BY REGION DESC) AS REGION FROM LESSON_SCHEDULE GROUP BY LESSON_PK) LS ON (L.LESSON_PK = LS.LESSON_PK) WHERE C.PARENT_PK = 15 AND I.IMAGE_TYPE = 'lesson' AND I.IMAGE_MAIN = 0 AND IM.IMAGE_TYPE = 'profile' GROUP BY L.LESSON_PK, L.LESSON_NAME, L.STATUS, C.CATEGORY_PK, M.ARTIST_NICK, M.MEMBER_NAME, I.IMAGE_PK, I.IMAGE_ROUTE, I.IMAGE_NAME, I.IMAGE_TYPE, IM.IMAGE_PK, IM.IMAGE_ROUTE, IM.IMAGE_NAME, IM.IMAGE_TYPE ORDER BY 1 DESC)) WHERE RNUM BETWEEN ? AND ?
selectLifeListWithPaging=SELECT RNUM, LESSON_PK, LESSON_NAME, STATUS, CATEGORY_PK, ARTIST_NICK, MEMBER_NAME, IMAGE_PK, IMAGE_ROUTE, IMAGE_NAME, IMAGE_TYPE, img2_pk, img2_route, img2_name, img2_type,REGION FROM (SELECT ROWNUM RNUM, LESSON_PK, LESSON_NAME, STATUS, CATEGORY_PK, ARTIST_NICK, MEMBER_NAME, IMAGE_PK, IMAGE_ROUTE, IMAGE_NAME, IMAGE_TYPE, img2_pk, img2_route, img2_name, img2_type, REGION FROM (SELECT L.LESSON_PK, L.LESSON_NAME, L.STATUS, C.CATEGORY_PK, M.ARTIST_NICK, M.MEMBER_NAME, I.IMAGE_PK, I.IMAGE_ROUTE, I.IMAGE_NAME, I.IMAGE_TYPE, IM.IMAGE_PK AS img2_pk, IM.IMAGE_ROUTE AS img2_route, IM.IMAGE_NAME AS img2_name, IM.IMAGE_TYPE AS img2_type, LISTAGG(REGION, '/') WITHIN GROUP (ORDER BY REGION DESC) AS REGION FROM LESSON L JOIN MEMBER M ON (L.ARTIST_PK = M.MEMBER_PK) JOIN IMAGE I ON (L.LESSON_PK = I.IMAGE_FK_PK) JOIN IMAGE IM ON (M.MEMBER_PK = IM.IMAGE_FK_PK) JOIN CATEGORY C ON (L.CATEGORY_PK = C.CATEGORY_PK) JOIN (SELECT LESSON_PK, LISTAGG(REGION, '/') WITHIN GROUP (ORDER BY REGION DESC) AS REGION FROM LESSON_SCHEDULE GROUP BY LESSON_PK) LS ON (L.LESSON_PK = LS.LESSON_PK) WHERE C.PARENT_PK = 20 AND I.IMAGE_TYPE = 'lesson' AND I.IMAGE_MAIN = 0 AND IM.IMAGE_TYPE = 'profile' AND L.LESSON_PK NOT IN (SELECT LESSON_PK FROM LESSON WHERE LESSON_PK = 138) GROUP BY L.LESSON_PK, L.LESSON_NAME, L.STATUS, C.CATEGORY_PK, M.ARTIST_NICK, M.MEMBER_NAME, I.IMAGE_PK, I.IMAGE_ROUTE, I.IMAGE_NAME, I.IMAGE_TYPE, IM.IMAGE_PK, IM.IMAGE_ROUTE, IM.IMAGE_NAME, IM.IMAGE_TYPE ORDER BY 1 DESC)) WHERE RNUM BETWEEN ? AND ?
selectBeautyListWithPaging=SELECT RNUM, LESSON_PK, LESSON_NAME, STATUS, CATEGORY_PK, ARTIST_NICK, MEMBER_NAME, IMAGE_PK, IMAGE_ROUTE, IMAGE_NAME, IMAGE_TYPE, img2_pk, img2_route, img2_name, img2_type, REGION FROM (SELECT ROWNUM RNUM, LESSON_PK, LESSON_NAME, STATUS, CATEGORY_PK, ARTIST_NICK, MEMBER_NAME, IMAGE_PK, IMAGE_ROUTE, IMAGE_NAME, IMAGE_TYPE, img2_pk, img2_route, img2_name, img2_type, REGION FROM (SELECT L.LESSON_PK, L.LESSON_NAME, L.STATUS, C.CATEGORY_PK, M.ARTIST_NICK, M.MEMBER_NAME, I.IMAGE_PK, I.IMAGE_ROUTE, I.IMAGE_NAME, I.IMAGE_TYPE, IM.IMAGE_PK AS img2_pk, IM.IMAGE_ROUTE AS img2_route, IM.IMAGE_NAME AS img2_name, IM.IMAGE_TYPE AS img2_type, LISTAGG(REGION, '/') WITHIN GROUP (ORDER BY REGION DESC) AS REGION FROM LESSON L JOIN MEMBER M ON (L.ARTIST_PK = M.MEMBER_PK) JOIN IMAGE I ON (L.LESSON_PK = I.IMAGE_FK_PK) JOIN IMAGE IM ON (M.MEMBER_PK = IM.IMAGE_FK_PK) JOIN CATEGORY C ON (L.CATEGORY_PK = C.CATEGORY_PK) JOIN (SELECT LESSON_PK, LISTAGG(REGION, '/') WITHIN GROUP (ORDER BY REGION DESC) AS REGION FROM LESSON_SCHEDULE GROUP BY LESSON_PK) LS ON (L.LESSON_PK = LS.LESSON_PK) WHERE C.PARENT_PK = 25 AND I.IMAGE_TYPE = 'lesson' AND I.IMAGE_MAIN = 0 AND IM.IMAGE_TYPE = 'profile' GROUP BY L.LESSON_PK, L.LESSON_NAME, L.STATUS, C.CATEGORY_PK, M.ARTIST_NICK, M.MEMBER_NAME, I.IMAGE_PK, I.IMAGE_ROUTE, I.IMAGE_NAME, I.IMAGE_TYPE, IM.IMAGE_PK, IM.IMAGE_ROUTE, IM.IMAGE_NAME, IM.IMAGE_TYPE ORDER BY 1 DESC)) WHERE RNUM BETWEEN ? AND ?
selectDesignListWithPaging=SELECT RNUM, LESSON_PK, LESSON_NAME, STATUS, CATEGORY_PK, ARTIST_NICK, MEMBER_NAME, IMAGE_PK, IMAGE_ROUTE, IMAGE_NAME, IMAGE_TYPE, img2_pk, img2_route, img2_name, img2_type, REGION FROM (SELECT ROWNUM RNUM, LESSON_PK, LESSON_NAME, STATUS, CATEGORY_PK, ARTIST_NICK, MEMBER_NAME, IMAGE_PK, IMAGE_ROUTE, IMAGE_NAME, IMAGE_TYPE, img2_pk, img2_route, img2_name, img2_type, REGION FROM (SELECT L.LESSON_PK, L.LESSON_NAME, L.STATUS, C.CATEGORY_PK, M.ARTIST_NICK, M.MEMBER_NAME, I.IMAGE_PK, I.IMAGE_ROUTE, I.IMAGE_NAME, I.IMAGE_TYPE, IM.IMAGE_PK AS img2_pk, IM.IMAGE_ROUTE AS img2_route, IM.IMAGE_NAME AS img2_name, IM.IMAGE_TYPE AS img2_type, LISTAGG(REGION, '/') WITHIN GROUP (ORDER BY REGION DESC) AS REGION FROM LESSON L JOIN MEMBER M ON (L.ARTIST_PK = M.MEMBER_PK) JOIN IMAGE I ON (L.LESSON_PK = I.IMAGE_FK_PK) JOIN IMAGE IM ON (M.MEMBER_PK = IM.IMAGE_FK_PK) JOIN CATEGORY C ON (L.CATEGORY_PK = C.CATEGORY_PK) JOIN (SELECT LESSON_PK, LISTAGG(REGION, '/') WITHIN GROUP (ORDER BY REGION DESC) AS REGION FROM LESSON_SCHEDULE GROUP BY LESSON_PK) LS ON (L.LESSON_PK = LS.LESSON_PK) WHERE C.PARENT_PK = 33 AND I.IMAGE_TYPE = 'lesson' AND I.IMAGE_MAIN = 0 AND IM.IMAGE_TYPE = 'profile' GROUP BY L.LESSON_PK, L.LESSON_NAME, L.STATUS, C.CATEGORY_PK, M.ARTIST_NICK, M.MEMBER_NAME, I.IMAGE_PK, I.IMAGE_ROUTE, I.IMAGE_NAME, I.IMAGE_TYPE, IM.IMAGE_PK, IM.IMAGE_ROUTE, IM.IMAGE_NAME, IM.IMAGE_TYPE ORDER BY 1 DESC)) WHERE RNUM BETWEEN ? AND ?
selectSportsListWithPaging=SELECT RNUM, LESSON_PK, LESSON_NAME, STATUS, CATEGORY_PK, ARTIST_NICK, MEMBER_NAME, IMAGE_PK, IMAGE_ROUTE, IMAGE_NAME, IMAGE_TYPE, img2_pk, img2_route, img2_name, img2_type, REGION FROM (SELECT ROWNUM RNUM, LESSON_PK, LESSON_NAME, STATUS, CATEGORY_PK, ARTIST_NICK, MEMBER_NAME, IMAGE_PK, IMAGE_ROUTE, IMAGE_NAME, IMAGE_TYPE, img2_pk, img2_route, img2_name, img2_type, REGION FROM (SELECT L.LESSON_PK, L.LESSON_NAME, L.STATUS, C.CATEGORY_PK, M.ARTIST_NICK, M.MEMBER_NAME, I.IMAGE_PK, I.IMAGE_ROUTE, I.IMAGE_NAME, I.IMAGE_TYPE, IM.IMAGE_PK AS img2_pk, IM.IMAGE_ROUTE AS img2_route, IM.IMAGE_NAME AS img2_name, IM.IMAGE_TYPE AS img2_type, LISTAGG(REGION, '/') WITHIN GROUP (ORDER BY REGION DESC) AS REGION FROM LESSON L JOIN MEMBER M ON (L.ARTIST_PK = M.MEMBER_PK) JOIN IMAGE I ON (L.LESSON_PK = I.IMAGE_FK_PK) JOIN IMAGE IM ON (M.MEMBER_PK = IM.IMAGE_FK_PK) JOIN CATEGORY C ON (L.CATEGORY_PK = C.CATEGORY_PK) JOIN (SELECT LESSON_PK, LISTAGG(REGION, '/') WITHIN GROUP (ORDER BY REGION DESC) AS REGION FROM LESSON_SCHEDULE GROUP BY LESSON_PK) LS ON (L.LESSON_PK = LS.LESSON_PK) WHERE C.PARENT_PK = 37 AND I.IMAGE_TYPE = 'lesson' AND I.IMAGE_MAIN = 0 AND IM.IMAGE_TYPE = 'profile' GROUP BY L.LESSON_PK, L.LESSON_NAME, L.STATUS, C.CATEGORY_PK, M.ARTIST_NICK, M.MEMBER_NAME, I.IMAGE_PK, I.IMAGE_ROUTE, I.IMAGE_NAME, I.IMAGE_TYPE, IM.IMAGE_PK, IM.IMAGE_ROUTE, IM.IMAGE_NAME, IM.IMAGE_TYPE ORDER BY 1 DESC)) WHERE RNUM BETWEEN ? AND ?
selectSubList=SELECT RNUM, LESSON_PK, LESSON_NAME, STATUS, CATEGORY_PK, ARTIST_NICK, MEMBER_NAME, IMAGE_PK, IMAGE_ROUTE, IMAGE_NAME, IMAGE_TYPE, img2_pk, img2_route, img2_name, img2_type, REGION FROM (SELECT ROWNUM RNUM, LESSON_PK, LESSON_NAME, STATUS, CATEGORY_PK, ARTIST_NICK, MEMBER_NAME, IMAGE_PK, IMAGE_ROUTE, IMAGE_NAME, IMAGE_TYPE, img2_pk, img2_route, img2_name, img2_type, REGION FROM (SELECT L.LESSON_PK, L.LESSON_NAME, L.STATUS, L.CATEGORY_PK, M.ARTIST_NICK, M.MEMBER_NAME, I.IMAGE_PK, I.IMAGE_ROUTE, I.IMAGE_NAME, I.IMAGE_TYPE, IM.IMAGE_PK AS img2_pk, IM.IMAGE_ROUTE AS img2_route, IM.IMAGE_NAME AS img2_name, IM.IMAGE_TYPE AS img2_type, LISTAGG(REGION, '/') WITHIN GROUP (ORDER BY REGION DESC) AS REGION FROM LESSON L JOIN MEMBER M ON (L.ARTIST_PK = M.MEMBER_PK) JOIN IMAGE I ON (L.LESSON_PK = I.IMAGE_FK_PK) JOIN IMAGE IM ON (M.MEMBER_PK = IM.IMAGE_FK_PK) JOIN (SELECT LESSON_PK, LISTAGG(REGION, '/') WITHIN GROUP (ORDER BY REGION DESC) AS REGION FROM LESSON_SCHEDULE GROUP BY LESSON_PK) LS ON (L.LESSON_PK = LS.LESSON_PK) WHERE L.CATEGORY_PK = ? AND I.IMAGE_TYPE = 'lesson' AND I.IMAGE_MAIN = 0 AND IM.IMAGE_TYPE = 'profile' GROUP BY L.LESSON_PK, L.LESSON_NAME, L.STATUS, L.CATEGORY_PK, M.ARTIST_NICK, M.MEMBER_NAME, I.IMAGE_PK, I.IMAGE_ROUTE, I.IMAGE_NAME, I.IMAGE_TYPE, IM.IMAGE_PK, IM.IMAGE_ROUTE, IM.IMAGE_NAME, IM.IMAGE_TYPE ORDER BY 1 DESC)) WHERE RNUM BETWEEN ? AND ?
subListCount=SELECT COUNT(*) FROM LESSON L JOIN IMAGE I ON (L.LESSON_PK = I.IMAGE_FK_PK) JOIN IMAGE IM ON (L.ARTIST_PK = IM.IMAGE_FK_PK) WHERE STATUS = 0 AND I.IMAGE_TYPE = 'lesson' AND I.IMAGE_MAIN = 0 AND IM.IMAGE_TYPE = 'profile' AND L.CATEGORY_PK = ?



 


