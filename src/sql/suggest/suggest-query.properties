selectDetailCategory=SELECT CATEGORY_PK, NODE_DEPTH, NODE_PATH, NODE_NAME, PARENT_PK, CHILD_EXIST FROM CATEGORY WHERE PARENT_PK=? AND NODE_DEPTH=1
insertSuggest=INSERT INTO LESSON_PETITION VALUES (LESSON_PETITION_SEQ.NEXTVAL, ?, ?, ?, ?, ?, ?, ?, ?, ?, DEFAULT, DEFAULT, DEFAULT, ?, ?)
selectList=SELECT PETITION_PK, NUM_OF_STUDENTS, COST, NUM_OF_LESSONS, LOCATION, REQUESTED_DATE, REQUESTED_DAYS, REQUESTED_TIME, TITLE, CONTENTS, PETITIONED_TIME, WISHLISTED, VIEWS, PETITIONED_MEMBER, L.CATEGORY_PK, MEMBER_NAME, PARENT_PK FROM LESSON_PETITION L JOIN MEMBER M ON (L.PETITIONED_MEMBER = M.MEMBER_PK) JOIN CATEGORY C ON (L.CATEGORY_PK = C.CATEGORY_PK)
listCount=SELECT COUNT(*) FROM LESSON_PETITION
selectListWithPaging=SELECT RNUM, PETITION_PK, NUM_OF_STUDENTS, COST, NUM_OF_LESSONS, LOCATION, REQUESTED_DATE, REQUESTED_DAYS, REQUESTED_TIME, TITLE, CONTENTS, PETITIONED_TIME, WISHLISTED, VIEWS, PETITIONED_MEMBER, CATEGORY_PK, MEMBER_NAME, PARENT_PK, REPLY_COUNT FROM ( SELECT ROWNUM RNUM, PETITION_PK, NUM_OF_STUDENTS, COST, NUM_OF_LESSONS, LOCATION, REQUESTED_DATE, REQUESTED_DAYS, REQUESTED_TIME, TITLE, CONTENTS, PETITIONED_TIME, WISHLISTED, VIEWS, PETITIONED_MEMBER, CATEGORY_PK, MEMBER_NAME, PARENT_PK, REPLY_COUNT FROM ( SELECT PETITION_PK, NUM_OF_STUDENTS, COST, NUM_OF_LESSONS, LOCATION, REQUESTED_DATE, REQUESTED_DAYS, REQUESTED_TIME, TITLE, CONTENTS, PETITIONED_TIME, WISHLISTED, VIEWS, PETITIONED_MEMBER, L.CATEGORY_PK, MEMBER_NAME, PARENT_PK, COUNT(REPLY_PK)REPLY_COUNT FROM LESSON_PETITION L JOIN MEMBER M ON (L.PETITIONED_MEMBER = M.MEMBER_PK) JOIN CATEGORY C ON (L.CATEGORY_PK = C.CATEGORY_PK) LEFT JOIN LESSON_PETITION_REPLY R ON (L.PETITION_PK = R.LESSON_PETITION_PK) GROUP BY PETITION_PK,NUM_OF_STUDENTS, COST, NUM_OF_LESSONS, LOCATION, REQUESTED_DATE, REQUESTED_DAYS, REQUESTED_TIME, TITLE, CONTENTS, PETITIONED_TIME, WISHLISTED, VIEWS, PETITIONED_MEMBER, L.CATEGORY_PK, MEMBER_NAME, PARENT_PK ORDER BY PETITION_PK DESC )) WHERE RNUM BETWEEN ? AND ?
updateCount=UPDATE LESSON_PETITION SET VIEWS = (SELECT VIEWS FROM LESSON_PETITION WHERE PETITION_PK = ?) + 1 WHERE PETITION_PK = ?
selectOne=SELECT PETITION_PK, NUM_OF_STUDENTS, COST, NUM_OF_LESSONS, LOCATION, REQUESTED_DATE, REQUESTED_DAYS, REQUESTED_TIME, TITLE, CONTENTS, PETITIONED_TIME, WISHLISTED, VIEWS, PETITIONED_MEMBER, L.CATEGORY_PK,NODE_NAME, MEMBER_NAME, PARENT_PK FROM LESSON_PETITION L JOIN MEMBER M ON (L.PETITIONED_MEMBER = M.MEMBER_PK) JOIN CATEGORY C ON (L.CATEGORY_PK = C.CATEGORY_PK) WHERE PETITION_PK = ?
insertReply=INSERT INTO LESSON_PETITION_REPLY VALUES (LESSON_PETITION_REPLY_SEQ.NEXTVAL, ?, DEFAULT, ?, ?, DEFAULT)
selectReplyList=SELECT * FROM LESSON_PETITION_REPLY L JOIN MEMBER M ON L.MEMBER_PK = M.MEMBER_PK FULL OUTER JOIN (SELECT * FROM IMAGE WHERE IMAGE_TYPE = 'profile') I ON M.MEMBER_PK = I.IMAGE_FK_PK WHERE L.LESSON_PETITION_PK = ? ORDER BY REPLY_PK DESC
myListCount=SELECT COUNT(*) FROM LESSON_PETITION WHERE PETITIONED_MEMBER = ?
selectMyListWithPaging=SELECT RNUM, PETITION_PK, NUM_OF_STUDENTS, COST, NUM_OF_LESSONS, LOCATION, REQUESTED_DATE, REQUESTED_DAYS, REQUESTED_TIME, TITLE, CONTENTS, PETITIONED_TIME, WISHLISTED, VIEWS, PETITIONED_MEMBER, CATEGORY_PK, MEMBER_NAME, PARENT_PK, REPLY_COUNT FROM ( SELECT ROWNUM RNUM, PETITION_PK, NUM_OF_STUDENTS, COST, NUM_OF_LESSONS, LOCATION, REQUESTED_DATE, REQUESTED_DAYS, REQUESTED_TIME, TITLE, CONTENTS, PETITIONED_TIME, WISHLISTED, VIEWS, PETITIONED_MEMBER, CATEGORY_PK, MEMBER_NAME, PARENT_PK, REPLY_COUNT FROM ( SELECT PETITION_PK, NUM_OF_STUDENTS, COST, NUM_OF_LESSONS, LOCATION, REQUESTED_DATE, REQUESTED_DAYS, REQUESTED_TIME, TITLE, CONTENTS, PETITIONED_TIME, WISHLISTED, VIEWS, PETITIONED_MEMBER, L.CATEGORY_PK, MEMBER_NAME, PARENT_PK, COUNT(REPLY_PK)REPLY_COUNT FROM LESSON_PETITION L JOIN MEMBER M ON (L.PETITIONED_MEMBER = M.MEMBER_PK) JOIN CATEGORY C ON (L.CATEGORY_PK = C.CATEGORY_PK) LEFT JOIN LESSON_PETITION_REPLY R ON (L.PETITION_PK = R.LESSON_PETITION_PK) WHERE PETITIONED_MEMBER = ? GROUP BY PETITION_PK,NUM_OF_STUDENTS, COST, NUM_OF_LESSONS, LOCATION, REQUESTED_DATE, REQUESTED_DAYS, REQUESTED_TIME, TITLE, CONTENTS, PETITIONED_TIME, WISHLISTED, VIEWS, PETITIONED_MEMBER, L.CATEGORY_PK, MEMBER_NAME, PARENT_PK ORDER BY PETITION_PK DESC )) WHERE RNUM BETWEEN ? AND ?
myReplyListCount=SELECT COUNT(*) FROM LESSON_PETITION_REPLY WHERE MEMBER_PK = ?
selectMyReplyListWithPaging=SELECT RNUM, REPLY_PK, LESSON_PETITION_PK, TITLE, REPLY_DATE, REPLY_CONTENT, MEMBER_PK FROM(SELECT ROWNUM RNUM, REPLY_PK, LESSON_PETITION_PK, TITLE, REPLY_DATE, REPLY_CONTENT, MEMBER_PK FROM(SELECT REPLY_PK, LESSON_PETITION_PK, TITLE, REPLY_DATE, REPLY_CONTENT, MEMBER_PK FROM LESSON_PETITION_REPLY JOIN LESSON_PETITION ON (LESSON_PETITION_PK = PETITION_PK) WHERE MEMBER_PK = ? AND DELETED = 0 ORDER BY REPLY_DATE DESC)) WHERE RNUM BETWEEN ? AND ?
insertWishList=INSERT INTO PETITION_WISHLIST VALUES (?, ?)
deleteWishList=DELETE FROM PETITION_WISHLIST WHERE LESSON_PETITION_PK = ? AND MEMBER_PK = ?
updateAddwishListed=UPDATE LESSON_PETITION SET WISHLISTED = (SELECT WISHLISTED FROM LESSON_PETITION WHERE PETITION_PK = ?) + 1 WHERE PETITION_PK = ?
updateSubwishListed=UPDATE LESSON_PETITION SET WISHLISTED = (SELECT WISHLISTED FROM LESSON_PETITION WHERE PETITION_PK = ?) - 1 WHERE PETITION_PK = ?
myWishListCount=SELECT COUNT(*) FROM PETITION_WISHLIST WHERE MEMBER_PK = ?
